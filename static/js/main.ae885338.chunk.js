(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{14:function(t,e,s){},15:function(t,e,s){},19:function(t,e,s){"use strict";s.r(e);var a=s(1),n=s.n(a),o=s(9),c=s.n(o),r=(s(14),s(2)),i=s(3),l=s(5),d=s(4),u=(s(15),s(6)),m=s(0),j=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(r.a)(this,s),(a=e.call(this,t)).onSearch=function(){""!==a.state.keyword.trim()&&a.props.onSearch(a.state.keyword.trim().toLowerCase())},a.onChange=function(t){var e=t.target,s=e.name,n=e.value;a.setState(Object(u.a)({},s,n))},a.state={keyword:""},a}return Object(i.a)(s,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6",children:Object(m.jsxs)("div",{className:"input-group mb-3",children:[Object(m.jsx)("input",{type:"text",name:"keyword",className:"form-control border border-primary",onChange:this.onChange,placeholder:"Search"}),Object(m.jsx)("div",{className:"input-group-append",children:Object(m.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:this.onSearch,children:"Search"})})]})})}}]),s}(a.Component),b=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(r.a)(this,s),(a=e.call(this,t)).sortBy=function(t,e){var s={by:t,value:e};a.setState({sort:s}),a.props.sortBy(t,e)},a.state={sort:{by:"name",value:1}},a}return Object(i.a)(s,[{key:"render",value:function(){var t=this,e=this.state.sort;return Object(m.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6",children:Object(m.jsxs)("div",{className:"btn-group",children:[Object(m.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Sort"}),Object(m.jsxs)("div",{className:"dropdown-menu",children:[Object(m.jsxs)("a",{role:"button",className:"name"===e.by&&1===e.value?"dropdown-item sort-selected":"dropdown-item",onClick:function(){return t.sortBy("name",1)},children:[Object(m.jsx)("i",{className:"sort-icon fas fa-sort-alpha-down"})," A - Z"]}),Object(m.jsxs)("a",{role:"button",className:"name"===e.by&&-1===e.value?"dropdown-item sort-selected":"dropdown-item",onClick:function(){return t.sortBy("name",-1)},children:[Object(m.jsx)("i",{className:"sort-icon fas fa-sort-alpha-down-alt"}),"  Z - A"]}),Object(m.jsx)("div",{className:"dropdown-divider"}),Object(m.jsx)("a",{role:"button",className:"status"===e.by&&1===e.value?"dropdown-item sort-selected":"dropdown-item",onClick:function(){return t.sortBy("status",1)},children:"Active"}),Object(m.jsx)("a",{role:"button",className:"status"===e.by&&-1===e.value?"dropdown-item sort-selected":"dropdown-item",onClick:function(){return t.sortBy("status",-1)},children:"Hidden"})]})]})})}}]),s}(a.Component),h=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"row",style:{padding:"10px 0"},children:[Object(m.jsx)(j,{onSearch:this.props.onSearch}),Object(m.jsx)(b,{sortBy:this.props.sortBy})]})}}]),s}(a.Component),p=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(r.a)(this,s),(a=e.call(this,t)).onChange=function(t){var e=t.target,s=e.name,n=e.value;a.setState(Object(u.a)({},s,n))},a.onSubmit=function(t){t.preventDefault(),""!==a.state.name&&(a.props.onSubmit(a.state),a.resetForm())},a.resetForm=function(){a.setState({name:"",status:"active"})},a.state={name:"",status:"active"},a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.taskEdit;t&&(console.log("edit"),this.setState({name:t.name,status:t.status}))}},{key:"componentWillReceiveProps",value:function(t){if(t){var e=t.taskEdit;e?(console.log("edit",e),this.setState({name:e.name,status:e.status})):this.setState({name:"",status:"active"})}}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"card",children:[Object(m.jsxs)("div",{className:"card-header bg-info",children:[this.props.taskEdit?"Update task":"Create new task",Object(m.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:this.props.onHiden,children:Object(m.jsx)("span",{"aria-hidden":"true",style:{color:"white"},children:"\xd7"})})]}),Object(m.jsx)("div",{className:"card-body",children:Object(m.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name"}),Object(m.jsx)("input",{type:"text",name:"name",className:"form-control",id:"name",value:this.state.name,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"status",children:"Status"}),Object(m.jsxs)("select",{className:"form-control",name:"status",id:"status",value:this.state.status,onChange:this.onChange,children:[Object(m.jsx)("option",{value:"active",children:"Active"}),Object(m.jsx)("option",{value:"hiden",children:"Hiden"}),Object(m.jsx)("option",{value:"complete",children:"Complele"})]})]}),Object(m.jsxs)("div",{className:"card-footer",children:[Object(m.jsx)("button",{disabled:""===this.state.name,type:"submit",className:"btn btn-primary mr-2",children:"Save"}),Object(m.jsx)("button",{type:"reset",className:"btn btn-info mr-2",onClick:this.resetForm,children:"Reset"})]})]})})]})}}]),s}(a.Component),O=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(){var t;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).onUpdateStatus=function(){t.props.onUpdateStatus(t.props.task.id)},t.statusHandle=function(e){var s={active:{title:"Active",class:"badge badge-info"},hiden:{title:"Hiden",class:"badge badge-danger"},complete:{title:"Completed",class:"badge badge-success"}}[e];return Object(m.jsx)("span",{style:{cursor:"pointer"},onClick:t.onUpdateStatus,className:s.class,children:s.title})},t.onDelete=function(){t.props.onDelete(t.props.task.id)},t.onUpdate=function(){t.props.onUpdate(t.props.task.id)},t}return Object(i.a)(s,[{key:"render",value:function(){var t=this.props,e=t.task,s=t.index;return Object(m.jsxs)("tr",{className:"d-flex",children:[Object(m.jsx)("td",{className:"col-1",scope:"row",children:s+1}),Object(m.jsx)("td",{className:"col-7",children:e.name}),Object(m.jsx)("td",{className:"col-2",children:this.statusHandle(e.status)}),Object(m.jsxs)("td",{className:"col-2",children:[Object(m.jsxs)("button",{className:"btn-ed btn btn-warning ",style:{marginRight:"5px"},onClick:this.onUpdate,children:[Object(m.jsx)("i",{className:"far fa-edit"})," Edit"]}),Object(m.jsxs)("button",{onClick:this.onDelete,className:"btn-ed btn btn-danger",children:[Object(m.jsx)("i",{className:"far fa-trash-alt"})," DeLete"]})]})]})}}]),s}(a.Component),f=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(r.a)(this,s),(a=e.call(this,t)).onChange=function(t){var e=t.target,s=e.name,n=e.value;a.setState(Object(u.a)({},s,n))},a.state={filterName:"",filterStatus:"all"},a}return Object(i.a)(s,[{key:"render",value:function(){var t=this,e=this.props.tasks.map((function(e,s){var a=t.state,n=a.filterStatus,o=a.filterName;return"all"!==n&&n!==e.status||""!==o&&-1===e.name.toLowerCase().indexOf(o.toLowerCase().trim())?"":Object(m.jsx)(O,{task:e,index:s,onDelete:t.props.onDelete,onUpdate:t.props.onUpdate,onUpdateStatus:t.props.onUpdateStatus},e.id)}));return Object(m.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{className:"d-flex",children:[Object(m.jsx)("th",{className:"col-1",children:"Index"}),Object(m.jsx)("th",{className:"col-7",children:"Name"}),Object(m.jsx)("th",{className:"col-2",children:"Status"}),Object(m.jsx)("th",{className:"col-2 col-sm-4",children:"Action"})]})}),Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{className:"d-flex",children:[Object(m.jsx)("td",{className:"col-1",scope:"row"}),Object(m.jsx)("td",{className:"col-7",children:Object(m.jsx)("input",{type:"text",className:"form-control",name:"filterName",placeholder:"Filter by name",onChange:this.onChange})}),Object(m.jsx)("td",{className:"col-2",children:Object(m.jsxs)("select",{className:"form-control",name:"filterStatus",onChange:this.onChange,children:[Object(m.jsx)("option",{value:"all",children:"All"}),Object(m.jsx)("option",{value:"active",children:"Active"}),Object(m.jsx)("option",{value:"hiden",children:"Hiden"}),Object(m.jsx)("option",{value:"complete",children:"Completed"})]})}),Object(m.jsx)("td",{className:"col-2"})]}),e]})]})}}]),s}(a.Component),x=s(7),v=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(r.a)(this,s),(a=e.call(this,t)).onToggleForm=function(){-1===a.state.taskIsEditingIndex?a.setState({isDisplayForm:!a.state.isDisplayForm}):a.setState({taskIsEditingIndex:-1})},a.onSubmit=function(t){var e=a.state,s=e.tasks,n=e.taskIsEditingIndex;-1!==n?(s[n].name=t.name,s[n].status=t.status,a.setState({taskIsEditingIndex:-1})):(t.id=a.makeid(5),s.push(t)),a.setState({tasks:s}),localStorage.setItem("tasks",JSON.stringify(s))},a.onCloseForm=function(){a.setState({isDisplayForm:!1,taskIsEditingIndex:-1})},a.onShowForm=function(){a.setState({isDisplayForm:!0})},a.onUpdateStatus=function(t){var e=Object(x.findIndex)(a.state.tasks,(function(e){return e.id===t}));if(console.log("found",e),-1!==e){var s=a.state.tasks;console.log(s[e].status),"hiden"===s[e].status?s[e].status="active":"active"===s[e].status?s[e].status="complete":s[e].status="hiden",a.setState({tasks:s}),localStorage.setItem("tasks",JSON.stringify(s))}},a.onDelete=function(t){console.log(t);var e=Object(x.findIndex)(a.state.tasks,(function(e){return e.id==t}));if(-1!==e){var s=a.state.tasks;console.log(e,s),s.splice(e,1),a.setState({tasks:s}),localStorage.setItem("tasks",JSON.stringify(s)),a.onCloseForm()}},a.onUpdate=function(t){var e=Object(x.findIndex)(a.state.tasks,(function(e){return e.id===t}));-1!==e&&(a.setState({taskIsEditingIndex:e}),a.onShowForm())},a.onSearch=function(t){a.setState({keyword:t})},a.sortBy=function(t,e){var s={by:t,value:e};a.setState({sort:s})},a.state={tasks:[{name:"Hello",status:"active"}],isDisplayForm:!1,taskIsEditingIndex:-1,keyword:"",sort:{by:"name",value:1}},a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){try{var t=localStorage.getItem("tasks");t&&this.setState({tasks:JSON.parse(t)})}catch(e){console.log(e.message)}}},{key:"makeid",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=s.length,n=0;n<t;n++)e+=s.charAt(Math.floor(Math.random()*a));return e}},{key:"render",value:function(){var t=this.state,e=t.tasks,s=t.isDisplayForm,a=t.taskIsEditingIndex,n=t.sort,o=t.keyword,c=s?Object(m.jsx)(p,{onHiden:this.onCloseForm,onSubmit:this.onSubmit,taskEdit:-1!==a?this.state.tasks[a]:null}):"";return e=(e=Object(x.filter)(e,(function(t){return-1!==t.name.toLowerCase().indexOf(o)}))).sort((function(t,e){return t[n.by]==e[n.by]?0:t[n.by].toLowerCase()>e[n.by].toLowerCase()?n.value:-n.value})),Object(m.jsx)("div",{className:"container-fluid",style:{marginTop:"20px"},children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:s?"col-sm-4 col-md-4 col-lg-4 col-xl-4":"w-0",style:{transition:"all 1s"},children:c}),Object(m.jsxs)("div",{className:s?"col-sm-8 col-md-8 col-lg-8 col-xl-8":"col-sm-12 col-md-12 col-lg-12 col-xl-12",children:[Object(m.jsxs)("button",{className:"btn btn-primary  mr-5",onClick:this.onToggleForm,children:[Object(m.jsx)("span",{className:"fa fa-plus"}),"Add new task"]}),Object(m.jsx)(h,{onSearch:this.onSearch,sortBy:this.sortBy}),Object(m.jsx)(f,{tasks:e,onUpdate:this.onUpdate,onDelete:this.onDelete,onUpdateStatus:this.onUpdateStatus})]})]})})}}]),s}(a.Component),g=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,20)).then((function(e){var s=e.getCLS,a=e.getFID,n=e.getFCP,o=e.getLCP,c=e.getTTFB;s(t),a(t),n(t),o(t),c(t)}))};c.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(v,{})}),document.getElementById("root")),g()}},[[19,1,2]]]);
//# sourceMappingURL=main.ae885338.chunk.js.map